<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.com.sina.alan.gateway.dao.KeyModelMapper">
    <resultMap id="BaseResultMap" type="cn.com.sina.alan.gateway.model.KeyModel">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <id column="ak_key_id" jdbcType="INTEGER" property="keyId"/>
        <result column="ak_developer_id" jdbcType="INTEGER" property="developerId"/>
        <result column="ak_pub_key" jdbcType="VARCHAR" property="pubKey"/>
        <result column="ak_sec_key" jdbcType="VARCHAR" property="secKey"/>
        <result column="ak_key_role" jdbcType="VARCHAR" property="keyRole"/>
        <result column="ak_apply_time" jdbcType="TIMESTAMP" property="applyTime"/>
        <result column="ak_audit_time" jdbcType="TIMESTAMP" property="auditTime"/>
        <result column="ak_reason" jdbcType="VARCHAR" property="reason"/>
        <result column="ak_frequency" jdbcType="INTEGER" property="frequency"/>
        <result column="ak_status" jdbcType="TINYINT" property="status"/>
    </resultMap>
    <sql id="Base_Column_List">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        ak.key_id as ak_key_id, ak.developer_id as ak_developer_id, ak.pub_key as ak_pub_key,
        ak.sec_key as ak_sec_key, ak.key_role as ak_key_role, ak.apply_time as ak_apply_time,
        ak.audit_time as ak_audit_time, ak.reason as ak_reason, ak.frequency as ak_frequency,
        ak.status as ak_status
    </sql>
    <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <include refid="Base_Column_List"/>
        from api_key ak
        where ak.key_id = #{keyId,jdbcType=INTEGER}
    </select>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        delete from api_key
        where key_id = #{keyId,jdbcType=INTEGER}
    </delete>
    <insert id="insert" >
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into api_key (key_id, developer_id, pub_key,
        sec_key, key_role, apply_time,
        audit_time, reason, frequency,
        status)
        values (#{keyId,jdbcType=INTEGER}, #{developerId,jdbcType=INTEGER}, #{pubKey,jdbcType=VARCHAR},
        #{secKey,jdbcType=VARCHAR}, #{keyRole,jdbcType=VARCHAR}, #{applyTime,jdbcType=TIMESTAMP},
        #{auditTime,jdbcType=TIMESTAMP}, #{reason,jdbcType=VARCHAR}, #{frequency,jdbcType=INTEGER},
        #{status,jdbcType=TINYINT})
    </insert>
    <insert id="insertSelective">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into api_key
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="keyId != null">
                key_id,
            </if>
            <if test="developerId != null">
                developer_id,
            </if>
            <if test="pubKey != null">
                pub_key,
            </if>
            <if test="secKey != null">
                sec_key,
            </if>
            <if test="keyRole != null">
                key_role,
            </if>
            <if test="applyTime != null">
                apply_time,
            </if>
            <if test="auditTime != null">
                audit_time,
            </if>
            <if test="reason != null">
                reason,
            </if>
            <if test="frequency != null">
                frequency,
            </if>
            <if test="status != null">
                status,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="keyId != null">
                #{keyId,jdbcType=INTEGER},
            </if>
            <if test="developerId != null">
                #{developerId,jdbcType=INTEGER},
            </if>
            <if test="pubKey != null">
                #{pubKey,jdbcType=VARCHAR},
            </if>
            <if test="secKey != null">
                #{secKey,jdbcType=VARCHAR},
            </if>
            <if test="keyRole != null">
                #{keyRole,jdbcType=VARCHAR},
            </if>
            <if test="applyTime != null">
                #{applyTime,jdbcType=TIMESTAMP},
            </if>
            <if test="auditTime != null">
                #{auditTime,jdbcType=TIMESTAMP},
            </if>
            <if test="reason != null">
                #{reason,jdbcType=VARCHAR},
            </if>
            <if test="frequency != null">
                #{frequency,jdbcType=INTEGER},
            </if>
            <if test="status != null">
                #{status,jdbcType=TINYINT},
            </if>
        </trim>
    </insert>
    <update id="updateByPrimaryKeySelective">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update api_key
        <set>
            <if test="developerId != null">
                developer_id = #{developerId,jdbcType=INTEGER},
            </if>
            <if test="pubKey != null">
                pub_key = #{pubKey,jdbcType=VARCHAR},
            </if>
            <if test="secKey != null">
                sec_key = #{secKey,jdbcType=VARCHAR},
            </if>
            <if test="keyRole != null">
                key_role = #{keyRole,jdbcType=VARCHAR},
            </if>
            <if test="applyTime != null">
                apply_time = #{applyTime,jdbcType=TIMESTAMP},
            </if>
            <if test="auditTime != null">
                audit_time = #{auditTime,jdbcType=TIMESTAMP},
            </if>
            <if test="reason != null">
                reason = #{reason,jdbcType=VARCHAR},
            </if>
            <if test="frequency != null">
                frequency = #{frequency,jdbcType=INTEGER},
            </if>
            <if test="status != null">
                status = #{status,jdbcType=TINYINT},
            </if>
        </set>
        where key_id = #{keyId,jdbcType=INTEGER}
    </update>
    <update id="updateByPrimaryKey" >
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update api_key
        set developer_id = #{developerId,jdbcType=INTEGER},
        pub_key = #{pubKey,jdbcType=VARCHAR},
        sec_key = #{secKey,jdbcType=VARCHAR},
        key_role = #{keyRole,jdbcType=VARCHAR},
        apply_time = #{applyTime,jdbcType=TIMESTAMP},
        audit_time = #{auditTime,jdbcType=TIMESTAMP},
        reason = #{reason,jdbcType=VARCHAR},
        frequency = #{frequency,jdbcType=INTEGER},
        status = #{status,jdbcType=TINYINT}
        where key_id = #{keyId,jdbcType=INTEGER}
    </update>

    <sql id="alias">
        key
    </sql>


    <select id="selectByPublicKey" resultMap="BaseResultMap">
        SELECT
            <include refid="Base_Column_List"/>
        FROM
            api_key ak
        WHERE
            ak.pub_key = #{pubKey}
    </select>
</mapper>